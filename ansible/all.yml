---
- name: cloud wg config
  hosts: vpn
  gather_facts: no  
  tasks:
    - debug: msg="Deploying wg to cloud server"
  roles:
    - { name: wg_vpn, tags: ['wg_vpn'] }

- name: deploy the awful stack
  gather_facts: no  
  hosts: dockerhosts
  tasks:
    - debug: msg="Deploying awful stack to cloud server"
  roles:
    - { name: awfulAll, tags: ['awfulAll'] }


- name: Configure home-net base packages
  hosts: home
  roles:
    - { name: home-net, tags: ['base'] }


- name: Deploy mediaserver
  hosts: mediaserver
  gather_facts: no
  roles:
    - { name: mediaserver, tags: ['mediaserver'] }    


- name: Deploy gitea
  hosts: dockerhosts
  gather_facts: no
  roles:
    - { name: gitea, tags: ['gitea'] }

- name: Deploy nextcloud
  hosts: dockerhosts
  gather_facts: no
  roles:
    - { name: nextcloud, tags: ['nextcloud'] }
    
- name: deploy the dev stack
  gather_facts: no  
  hosts: dockerhosts
  tasks:
    - debug: msg="Deploying awful stack to cloud server"
  roles:
    - { name: test, tags: ['test'] }    

- name: deploy syslog server
  gather_facts: no  
  hosts: syslog
  tasks:
    - debug: msg="Deploy syslog server to larva."
  roles:
    - { name: syslog, tags: ['syslog'] }      

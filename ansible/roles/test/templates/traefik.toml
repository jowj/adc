# defaultEntryPoints must be at the top
# because it should not be in any table below

defaultEntryPoints = ["http", "https"]

[log]
  level = "DEBUG"

[api]
  dashboard = true
  insecure = false

[entryPoints]
  [entryPoints.http]
    address = ":80"
  [entryPoints.https]
    address = ":443"

[http.middlewares]
  [http.middlewares.awfulAll-https-redir.redirectScheme]
    scheme = "https"
    permanent = true

[certificatesResolvers.awfulAll-resolver.acme]
  storage = "/acme/acme.json"
  email = "me@jowj.net"
  caServer = "https://acme-staging-v02.api.letsencrypt.org/directory"
  
  [certificatesResolvers.awfulAll-resolver.acme.dnsChallenge]
    provider = "digitalocean"


[providers.docker]

[docker]
  endpoint = "unix:///var/run/docker.sock"
  watch = true
  exposedbydefault = false


